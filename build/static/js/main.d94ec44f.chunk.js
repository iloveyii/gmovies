(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,t,a){e.exports=a(76)},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(37),o=a.n(c),l=a(15),s=a(17),i=a(41),u=a(80);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var h=!0,d=a(10),m=a(11),p=a(13),f=a(12),v=a(14),b=a(82),g=a(79),E=a(78),y=(r.a.Component,{roundImg:{background:"url(images/ti-logo.png) no-repeat center",width:"100%",height:"100%"},parraImg:{background:"url(images/parallax.png) no-repeat center",width:"100%",height:"100%"}}),w=a(5),O=a(81),j=function(e,t){return console.log("Inside watchLaterAction",e,t),{type:"Watch.Later",payload:{id:e,search:t}}},A=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={visible:!1},a.watchLater=a.watchLater.bind(Object(w.a)(Object(w.a)(a))),a.favourite=a.favourite.bind(Object(w.a)(Object(w.a)(a))),a.isImageAccessible=a.isImageAccessible.bind(Object(w.a)(Object(w.a)(a))),a.callback=a.callback.bind(Object(w.a)(Object(w.a)(a))),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"callback",value:function(){this.setState({visible:!0})}},{key:"isImageAccessible",value:function(e){var t=this,a="https://image.tmdb.org/t/p/w185_and_h278_bestv2"+e.poster_path,n=new Image;n.onload=function(){return t.callback()},n.src=a}},{key:"watchLater",value:function(e){e.preventDefault();var t=this.props,a=t.image,n=t.watchLaterAction,r=t.search;n(a.id,r),console.log("I want to watch later movie with id : "+a.id),this.forceUpdate()}},{key:"componentWillReceiveProps",value:function(e,t){console.log("componentWillReceiveProps componentWillReceiveProps"),this.setState({image:e.image})}},{key:"componentWillUpdate",value:function(e,t,a){console.log("componentWillReceiveProps componentWillUpdate")}},{key:"componentDidMount",value:function(){console.log("componentWillReceiveProps componentDidMount");var e=this.props.image;this.setState({image:e}),this.isImageAccessible(this.props.image)}},{key:"favourite",value:function(e){e.preventDefault();var t=this.props,a=t.image,n=t.favouriteLaterAction,r=t.search;n(a.id,r),this.forceUpdate(),console.log("I want to add to favourite moview with id : "+a.id)}},{key:"render",value:function(){var e=this,t=this.props.image;return r.a.createElement("li",{style:{display:this.state.visible?"table-cell":"none"}},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"info"},r.a.createElement("span",{className:"thumb"},"New   "),r.a.createElement("div",{className:"image"},r.a.createElement("a",{href:""},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w185_and_h278_bestv2"+t.poster_path,alt:""}))),r.a.createElement("div",{className:"footer"},r.a.createElement("h4",null,t.original_title.substring(0,12)),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{onClick:function(t){return e.favourite(t)},href:"#"},t.favouriteLater&&!0===t.favouriteLater?r.a.createElement("i",{className:"fas fa-star"}):r.a.createElement("i",{className:"far fa-star"}))),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(t){return e.watchLater(t)},href:"#"},t.watchLater&&!0===t.watchLater?r.a.createElement("i",{className:"far fa-calendar-check"}):r.a.createElement("i",{className:"fas fa-clock"}))))))))}}]),t}(r.a.Component),k={watchLaterAction:j,favouriteLaterAction:function(e,t){return console.log("Inside favouriteLaterAction",e,t),{type:"Favourite.Later",payload:{id:e,search:t}}}},L=Object(O.a)(Object(s.b)(function(e){return{watch:e.watch,favourite:e.favourite,search:e.search}},k)(A)),R="Search.Read",I=function(e,t){return console.log("Inside searchReadAction"),{type:R,payload:{q:e,page:t}}},S=function(e){return{type:"Search.Read.Success",payload:{search:e}}},_=function(e){return{type:"Search.Read.Fail",payload:{err:e}}},x=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={images:[],showLoading:!0,stopLabel:"Stop",q:"",search:{total_pages:0}},a.getData=a.getData.bind(Object(w.a)(Object(w.a)(a))),a.search=a.search.bind(Object(w.a)(Object(w.a)(a))),a.textInput=r.a.createRef(),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"setFilter",value:function(e,t){e.preventDefault();var a=Object.assign({},this.props.search),n=[];return"favourite"===t?(n=a.results.filter(function(e){return!0===e.favouriteLater}),a.results=n,void this.setState({search:a})):"watchLater"===t?(n=a.results.filter(function(e){return!0===e.watchLater}),a.results=n,void this.setState({search:a})):void this.setState({search:this.props.search})}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.preventDefault();var a=this.props.searchReadAction;this.setState({showLoading:!0}),a(this.textInput.current.value.length<1?"flower":this.textInput.current.value,t)}},{key:"getData",value:function(e){var t=e.search;if(t&&Array.isArray(t.results)){var a=t.results.filter(function(e){return!0===e.accessible});this.setState({search:t,showLoading:!1,results:a}),console.log("Inside componentWillReceiveProps search",t)}}},{key:"componentWillReceiveProps",value:function(e){console.log("Inside componentWillReceiveProps",e),this.getData(e)}},{key:"componentDidMount",value:function(){this.getData(this.props)}},{key:"render",value:function(){var e=this;!1===this.state.showLoading&&this.state.results.filter(function(e){return!0===e.accessible});var t=this.state.search.total_pages>50?50:this.state.search.total_pages,a=Array.apply(null,{length:t}).map(Number.call,Number);return console.log("Search count pages",this.state.search.total_pages,a),r.a.createElement("div",{id:"cards"},r.a.createElement("section",null,r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"search-input"},r.a.createElement("form",{onSubmit:this.search},r.a.createElement("input",{className:"form-control",type:"search",placeholder:"Search topics or keywords",ref:this.textInput}),r.a.createElement("button",null,r.a.createElement("i",{className:"fas fa-search"})))))),r.a.createElement("section",null,r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("ul",{style:{textAlign:"center"}},r.a.createElement("li",{style:{float:"left",display:"table"}},r.a.createElement("button",{className:"page-button",onClick:function(t){return e.setFilter(t,"favourite")},key:"fav"},"Favourites")),r.a.createElement("li",{style:{float:"left",display:"table"}},r.a.createElement("button",{className:"page-button",onClick:function(t){return e.setFilter(t,"watchLater")},key:"fav"},"Watch Later")),r.a.createElement("li",{style:{float:"left",display:"table"}},r.a.createElement("button",{className:"page-button",onClick:function(t){return e.setFilter(t,"all")},key:"fav"},"All"))))),r.a.createElement("section",null,r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("ul",{style:{textAlign:"center"}},a.map(function(t,a){return r.a.createElement("li",{style:{float:"left",display:"table"}},r.a.createElement("button",{className:"page-button",onClick:function(n){e.search(n,t+1),console.log(a)},key:a},t+1))})))),r.a.createElement("section",null,r.a.createElement("div",{className:"movies"},r.a.createElement("ul",null,!1===this.state.showLoading?this.state.search.results.map(function(e,t){return r.a.createElement(L,{key:t,image:e})}):r.a.createElement("div",{id:"loading"})))))}}]),t}(r.a.Component),C={searchReadAction:I},N=Object(O.a)(Object(s.b)(function(e){return{images:e.images,search:e.search}},C)(x)),T=function(){return r.a.createElement("div",{id:"about"},r.a.createElement("div",null,r.a.createElement("h2",null,"About"),r.a.createElement("p",null,"This has been developed by H Ali."),r.a.createElement("p",null,"Email: ali.dev.se@gmail.com"),r.a.createElement("p",null,"Source of Data: TMDb https://www.themoviedb.org ")))},W=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Not Implemented component")}}]),t}(r.a.Component),F=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).showAbout=a.showAbout.bind(Object(w.a)(Object(w.a)(a))),a.state={showAbout:!1},a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"showAbout",value:function(){this.setState({showAbout:!this.state.showAbout})}},{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("nav",{id:"main-nav"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(E.a,{to:"/"},r.a.createElement("span",null,"Home"))),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/image"},r.a.createElement("span",null,"Images"))),r.a.createElement("li",null,r.a.createElement(E.a,{to:"/about"},r.a.createElement("span",null,"About")))))),this.state.showAbout?r.a.createElement(T,null):null)}}]),t}(r.a.Component),D=(a(52),a(53),function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F,null),r.a.createElement(b.a,null,r.a.createElement(g.a,{exact:!0,path:"/image",component:N}),r.a.createElement(g.a,{exact:!0,path:"/about",component:T}),r.a.createElement(g.a,{exact:!0,path:"/",component:N}),r.a.createElement(g.a,{component:W})))}}]),t}(n.Component)),U=(a(54),a(18)),H=a.n(U),P=a(19),q=a(29),M=a.n(q),V={feed:{pics:function(){return M.a.get("http://imageloader-be.softhem.se/pics.php").then(function(e){console.log(e.data.split("<URL kommentar>"));var t=e.data.split("<URL kommentar>");return t.length>1?t[1].trim():"NA"}).catch(function(e){throw new Error(e)})},search:function(e,t){return M.a.get("https://api.themoviedb.org/3/search/movie?query="+e+"&page="+t+"&api_key=14c79282f80db76f1bf67452290e9d83").then(function(e){return e.data}).catch(function(e){throw new Error(e)})}}},B=H.a.mark(J);function J(e){var t;return H.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(P.a)(V.feed.search,e.payload.q,e.payload.page);case 3:return t=a.sent,console.log("Inside interestingReadSaga",e,t),a.next=7,Object(P.b)(S(t));case 7:a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(0),console.log("error",a.t0),a.next=14,Object(P.b)(_(a.t0));case 14:case"end":return a.stop()}},B,null,[[0,9]])}var K=H.a.mark($);function $(){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.c)(R,J);case 2:case"end":return e.stop()}},K)}var z=[],G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"Search.Read.Success":return console.log("Inside SEARCH_READ_SUCCESS Reducer",t),Object.assign({},t.payload.search);case"Search.Read.Fail":return console.log("Inside failed SEARCH_READ_FAIL loader Reducer",t.payload.err),t.payload.err;default:return e}},Q=[],X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"Watch.Later":console.log("Inside WATCH_LATER Reducer",t.payload,e);var a=t.payload.search;if(a){console.log("Keys",Object.keys(a),a.results);var n=a.results.findIndex(function(e){return e.id==t.payload.id});-1!==n&&(console.log("Inside WATCH_LATER Reducer we found id ",n),a.results[n].watchLater=!a.results[n].watchLater)}return e;case"Watch.Later.Success":return console.log("Inside WATCH_LATER_SUCCESS Reducer",t.payload),e;case"Watch.Later.Fail":return console.log("Inside failed WATCH_LATER_FAIL loader Reducer",t.payload.err),t.payload.err;default:return e}},Y=[],Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"Favourite.Later":console.log("Inside FAVOURITE_LATER Reducer",t.payload,e);var a=t.payload.search;if(a){console.log("Keys",Object.keys(a),a.results);var n=a.results.findIndex(function(e){return e.id==t.payload.id});-1!==n&&(console.log("Inside FAVOURITE_LATER Reducer we found id ",n),a.results[n].favouriteLater=!a.results[n].favouriteLater)}return e;case"Favourite.Later.Success":return console.log("Inside FAVOURITE_LATER_SUCCESS Reducer",t.payload),e;case"Favourite.Later.Fail":return console.log("Inside failed FAVOURITE_LATER_FAIL loader Reducer",t.payload.err),t.payload.err;default:return e}},ee=Object(l.c)({search:G,watch:X,favourite:Z}),te=Object(i.a)(),ae=window.navigator.userAgent.includes("Chrome")&&window.devToolsExtension&&h?Object(l.d)(Object(l.a)(te),window.devToolsExtension&&window.devToolsExtension()):Object(l.a)(te),ne=Object(l.e)(ee,{},ae);te.run($),console.log(ne.getState()),ne.dispatch(I("flower",1)),ne.dispatch(j(33997)),h&&ne.subscribe(function(){console.log("subscribed store in index",ne.getState())}),o.a.render(r.a.createElement(u.a,null,r.a.createElement(s.a,{store:ne},r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,1,2]]]);
//# sourceMappingURL=main.d94ec44f.chunk.js.map